CREATE TABLE FILIAL (
    ID_FILIAL NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    NOME VARCHAR2(120) NOT NULL,
    ENDERECO VARCHAR2(255) NOT NULL,
    CONTATO VARCHAR2(100),
    HORARIO_FUNCIONAMENTO VARCHAR2(120)
);

CREATE TABLE USUARIOS (
    USER_ID NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    EMAIL VARCHAR2(255) NOT NULL UNIQUE,
    CPF CHAR(11) NOT NULL UNIQUE,
    TELEFONE VARCHAR2(20),
    USER_NAME VARCHAR2(255) NOT NULL,
    PASSWORD_HASH VARCHAR2(255) NOT NULL,
    FILIAL_ID NUMBER,
    CONSTRAINT FK_USUARIO_FILIAL FOREIGN KEY (FILIAL_ID) REFERENCES FILIAL (ID_FILIAL)
);

CREATE TABLE MOTO (
    ID_MOTO NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY PRIMARY KEY,
    MODELO VARCHAR2(255) NOT NULL,
    PLACA VARCHAR2(10) NOT NULL UNIQUE,
    CHASSI VARCHAR2(50) NOT NULL UNIQUE,
    USER_ID NUMBER,
    IOT_INFO VARCHAR2(255),
    RFID_TAG VARCHAR2(255),
    LOCALIZACAO VARCHAR2(255),
    STATUS_ATUAL CLOB,
    ID_FILIAL NUMBER,
    CONSTRAINT FK_MOTO_USER FOREIGN KEY (USER_ID) REFERENCES USUARIOS (USER_ID),
    CONSTRAINT FK_MOTO_FILIAL FOREIGN KEY (ID_FILIAL) REFERENCES FILIAL (ID_FILIAL)
);

